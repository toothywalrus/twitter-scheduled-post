{% extends "base.html" %}

{% block ng_app %}celery_test.app.editor{% endblock ng_app %}

{% block content %}
	{% verbatim %}
	<div ng-controller="EditController">
		<form class="form-inline">
			<div class="form-group block-level">
				<input type="text" class="form-control" ng-model="newPage.location" placeholder="URL">
			</div>
			<div class="form-group">
				<button class="btn btn-default" ng-click="save()">Add Page</button>
			</div>
			<p class="alert alert-danger" ng-repeat="(name, errs) in errors">
				<strong>{{ name }}</strong>: {{ errs.join(', ') }}
			</p>
		</form>
	</div>
	{% endverbatim %}

	{{ block.super }}
{% endblock %}

{% block js %}
{{ block.super }}
<script>
 var app = angular.module('celery_test.app.editor');
 app.config(['$httpProvider', function($httpProvider) {
 	$httpProvider.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token|escapejs }}';
 }]);
 </script>
{% endblock js %}